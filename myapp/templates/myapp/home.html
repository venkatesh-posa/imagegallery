<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- using Bootstrap CSS to create column and rows -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <title>Image Gallery</title>
  </head>


  <body>
   <div class="container pt-3">
    <div class="py-5 text-center bg-dark text-white rounded">
     <h1 class="mb-3">Upload Image</h1>
     <form action="" method="post" enctype="multipart/form-data">
      {% csrf_token %}
      {{form}}
      <input type="submit" class="btn btn-danger" value="Upload">
     </form>
    </div>
    <div class="row">
     {% for x in img %}
     
      <div class="col-sm-4 hov" style="transition: .3s ease;">
       <div class="card m-2">
       <img id="myImg" src="{{x.photo.url}}" alt="" class="card-img-top" height="200px">
       </div>
      </div>
     {% endfor %}
    </div>

    <style>  
      .hov:hover{transform:translate(0,-10px);}
      #myImg{border-radius:3px;}
     </style>

    <div id="myModal" class="modal" style="width:60%; height:600px; position: fixed; top:5%; left:20%;">
      
      <img class="modal-content" id="img01" style="display:block; width:100%; max-height:600px;">
      <span class="close" style="position:absolute; right:2%; top:2%; cursor:pointer;" >&times;</span>
    </div>

    <script>
  
      var modal = document.getElementById("myModal");
      
      // Get the image and insert it inside the modal - use its "alt" text as a caption
      var img = document.getElementById("myImg");
      var modalImg = document.getElementById("img01");

      img.onclick = function(){
        modal.style.display = "block";
        modalImg.src = img.src;
      }
      
      // the <span> element that closes the popup & When we click on (x), it closees the popup
      var span = document.getElementsByClassName("close")[0];
      span.onclick = function() { 
        modal.style.display = "none";
      }
      </script>

   </div>
  </body>
</html>